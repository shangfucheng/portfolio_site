<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" >
    <meta name="description" content="Simple demo Web page for CSE 134B">
    <meta name="keywords" content="HTML, CSS, JavaScript">
    <meta name="author" content="fucheng-shang" >
    <meta name="viewport" content="width=device-width, initial-scale=1.0" >
    <title>HW5-PART1</title>
    <script type="module" src="scripts/ButtonCount.js"></script>
    <link href="images/favicon.ico" rel="icon" >
    <!-- <script src="https://cdnjs.cloudflare.com/ajax/libs/dompurify/3.0.1/purify.min.js" integrity="sha512-TU4FJi5o+epsahLtM9OFRvH2gXmmlzGlysk9wtTFgbYbMvFzh3Cw1l3ubnYIvBiZCC/aurRHS408TeEbcuOoyQ==" crossorigin="anonymous" referrerpolicy="no-referrer"></script> -->
</head>
<body>
    <ul>
        <li><a href="./methodtest.html">Part1</a></li>
        <li><a href="./webcomponent.html">Part2</a></li>
    </ul>
<script>
    window.addEventListener("DOMContentLoaded", (event)=>{
        let bdy = document.querySelector('body');
        let btnCount = document.createElement('button-count');
        bdy.append(btnCount);
        let numClick = {click:0};
        btnCount.data = numClick;
        let btn = btnCount.shadowRoot.firstChild;
        
        btn.addEventListener('click', (event)=>{
            let txt = btnCount.shadowRoot.firstChild.textContent;
            let count = txt.replace(/\D/g, '');            
            count++;
            let clickBtn = document.querySelector('button-count');
            clickBtn.shadowRoot.firstChild.textContent = `Times Clicked: ${count}`;
        });

    });
</script>
</body>
</html>